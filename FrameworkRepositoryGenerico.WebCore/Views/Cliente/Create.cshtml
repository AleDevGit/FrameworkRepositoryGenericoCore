@model FrameworkRepositoryGenerico.DataBase.Entidades.Cliente
@{
    ViewData["Title"] = "Create";
}

<br />
<h2>Criar Cliente</h2>
<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="Create">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            
            <div class="form-group">
                <label asp-for="TipoCliente" class="control-label"></label>
                <select id="ddlTipoCliente" class="form-control" />
                <span asp-validation-for="TipoCliente" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Cpf_Cnpj" class="control-label"></label>
                <input asp-for="Cpf_Cnpj" class="form-control" />
                <span asp-validation-for="Cpf_Cnpj" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Nome" class="control-label"></label>
                <input asp-for="Nome" class="form-control" />
                <span asp-validation-for="Nome" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Ativo" class="control-label"></label>
                <br />

                <input type="radio" asp-for="Ativo" value="true"><label asp-for="Ativo" class="control-label">Sim</label>
                <input type="radio" asp-for="Ativo" value="false"><label asp-for="Ativo" class="control-label">Não</label>

                <span asp-validation-for="Ativo" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Criar" class="btn btn-default" />
            </div>
</form>
    </div>
</div>

<div>
    <a asp-action="Index">Retornar para Lista</a>
</div>

<script type="text/javascript">

    $(document).ready(function () {
       var select = $('#ddlTipoCliente');
        var urlemp = '@Url.Action("ListarTipoCliente")';
        $.ajax({
            type: "POST",
            url: urlemp,
            success: function (returndata) {
                if (returndata.ok) {
                    select.empty();
                    $.each(returndata.data, function (index, itemData) {
                        select.append('<option value=' + itemData.Id + '>' + itemData.label + '</option>');
                    });
                    select.show('slow');
                }

                else {
                    window.alert('error :' + returndata.message);
                }
            }
        });
    });
        



</script>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

